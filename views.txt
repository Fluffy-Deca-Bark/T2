CREATE VIEW SELECIONADOS_PARA_TORNEIO
AS
SELECT C.NOME,I.NUMMOD,I.SEXOPROVA,I.DISTPROVA,I.MELHORTEMPO
FROM COMPETIDOR C INNER JOIN
INSCRITO I 
ON C.NUMINSCR=I.NUMINSCR
WHERE I.APROVADO='S'
WITH CHECK OPTION;

CREATE VIEW PARTICIPACAO_DO_COMPETIDOR
AS
SELECT C.NOME,P.NUMMOD,P.SEXOPROVA,P.DISTPROVA,P.ETAPASERIE,P.SEQSERIE,P.TEMPO
FROM COMPETIDOR C INNER JOIN
PARTICIPA P
ON C.NUMINSCR=P.NUMINSCR
WHERE P.SITUACAO=1
WITH CHECK OPTION;

CREATE VIEW GANHADORES_DA_PROVA
AS
SELECT * FROM PARTICIPA P1
WHERE 3>=(SELECT COUNT(*) FROM PARTICIPA P2 WHEREC C2.TEMPO < C1.TEMPO);
